<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Site en Construction</title>

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
}

.container {
    text-align: center;
    padding: 20px;
    max-width: 800px;
}

h1 {
    font-size: 3rem;
    margin-bottom: 20px;
}

.subtitle {
    font-size: 1.3rem;
    margin-bottom: 30px;
}

.emoji {
    font-size: 4rem;
    margin-bottom: 15px;
}

.game-container {
    background: white;
    border-radius: 15px;
    padding: 20px;
    margin-top: 30px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.3);
}

.game-title {
    color: #667eea;
    margin-bottom: 15px;
}

#game {
    border: 2px solid #667eea;
    border-radius: 8px;
    background: #f7f7f7;
}

.instructions {
    color: #666;
    margin-top: 10px;
    font-size: 0.9rem;
}

.score {
    color: #667eea;
    font-size: 1.2rem;
    font-weight: bold;
    margin-top: 5px;
}
</style>
</head>

<body>

<div class="container">
    <div class="emoji">ðŸš§</div>
    <h1>Site en Construction</h1>
    <p class="subtitle">Nous travaillons sur quelque chose de lourd ðŸ‘€</p>

    <div class="game-container">
        <div class="game-title">Mini Jeu Dino ðŸ¦–</div>
        <canvas id="game" width="600" height="150"></canvas>
        <div class="instructions">Espace ou clic pour sauter</div>
        <div class="score">Score: <span id="score">0</span></div>
        <div class="score">High Score: <span id="highScore">0</span></div>
    </div>
</div>

<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
const scoreElement = document.getElementById('score');
const highScoreElement = document.getElementById('highScore');

let gameSpeed = 3;
let gravity = 0.6;
let score = 0;
let gameStarted = false;
let gameOver = false;

let highScore = localStorage.getItem("highScore") || 0;
highScoreElement.textContent = highScore;

const dino = {
    x: 50,
    y: canvas.height - 50,
    width: 40,
    height: 40,
    dy: 0,
    jumpPower: -12,
    grounded: false
};

const obstacles = [];
let frameCount = 0;
let obstacleFrequency = 120;

function drawDino() {
    ctx.fillStyle = "#535353";
    ctx.fillRect(dino.x, dino.y, dino.width, dino.height);
}

function drawGround() {
    ctx.fillStyle = "#999";
    ctx.fillRect(0, canvas.height - 5, canvas.width, 5);
}

function jump() {
    if (dino.grounded) {
        dino.dy = dino.jumpPower;
        dino.grounded = false;
    }
}

function updateDino() {
    dino.dy += gravity;
    dino.y += dino.dy;

    if (dino.y + dino.height >= canvas.height - 5) {
        dino.y = canvas.height - 5 - dino.height;
        dino.dy = 0;
        dino.grounded = true;
    }
}

function createObstacle() {
    obstacles.push({
        x: canvas.width,
        y: canvas.height - 25,
        width: 20,
        height: 20
    });
}

function updateObstacles() {
    obstacles.forEach(ob => ob.x -= gameSpeed);

    if (frameCount % obstacleFrequency === 0) {
        createObstacle();
    }

    obstacles.forEach((ob, i) => {
        if (ob.x + ob.width < 0) {
            obstacles.splice(i, 1);
            score++;
            scoreElement.textContent = score;

            if (score % 5 === 0) {
                gameSpeed += 0.3; // difficultÃ© augmente
            }
        }
    });

    frameCount++;
}

function checkCollision() {
    return obstacles.some(ob =>
        dino.x < ob.x + ob.width &&
        dino.x + dino.width > ob.x &&
        dino.y < ob.y + ob.height &&
        dino.y + dino.height > ob.y
    );
}

function resetGame() {
    obstacles.length = 0;
    score = 0;
    gameSpeed = 3;
    frameCount = 0;
    dino.y = canvas.height - 50;
    scoreElement.textContent = score;
    gameOver = false;
}

function gameLoop() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    drawGround();

    if (!gameStarted) {
        ctx.fillStyle = "#667eea";
        ctx.font = "20px Arial";
        ctx.fillText("Appuie sur Espace pour commencer", 150, 60);
        requestAnimationFrame(gameLoop);
        return;
    }

    if (!gameOver) {
        updateDino();
        updateObstacles();

        if (checkCollision()) {
            gameOver = true;

            if (score > highScore) {
                highScore = score;
                localStorage.setItem("highScore", highScore);
                highScoreElement.textContent = highScore;
            }
        }
    } else {
        ctx.fillStyle = "#667eea";
        ctx.font = "25px Arial";
        ctx.fillText("GAME OVER", 220, 60);
        ctx.font = "16px Arial";
        ctx.fillText("Clique pour recommencer", 210, 85);
    }

    drawDino();
    obstacles.forEach(ob => {
        ctx.fillStyle = "#535353";
        ctx.fillRect(ob.x, ob.y, ob.width, ob.height);
    });

    requestAnimationFrame(gameLoop);
}

document.addEventListener("keydown", e => {
    if (e.code === "Space") {
        if (!gameStarted) {
            gameStarted = true;
        } else if (gameOver) {
            resetGame();
        } else {
            jump();
        }
    }
});

canvas.addEventListener("click", () => {
    if (!gameStarted) {
        gameStarted = true;
    } else if (gameOver) {
        resetGame();
    } else {
        jump();
    }
});

gameLoop();
</script>

</body>
</html>
